module.exports=[80442,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(20461),g=a.i(5050);let h=(0,g.createServerReference)("409cca04a1be2c0d6e447f33229b04be2b85932597",g.callServer,void 0,g.findSourceMapURL,"getCampaignBySlug"),i=(0,g.createServerReference)("40ff14a49a40edb98621a06aa5c7509d31de112e24",g.callServer,void 0,g.findSourceMapURL,"createDonation"),j=(0,g.createServerReference)("601c893282998d9caca73bca888b743fc0aa9ee8d9",g.callServer,void 0,g.findSourceMapURL,"updatePaymentProof");var k=a.i(63759);let l=(0,g.createServerReference)("60e31ddcb0447823b306bdb0e306027d7f8bda93a5",g.callServer,void 0,g.findSourceMapURL,"getCampaignDonors");var m=a.i(39872);let n=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),o=[25e3,5e4,1e5,25e4,5e5,1e6];a.s(["default",0,()=>{let a=(0,d.useParams)(),g=a?.slug,[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)("info"),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)("");(0,c.useEffect)(()=>{let a=async()=>{try{let a=await h(g);if(q(a),a){let b=await l(a.id);s(b)}}catch(a){console.error("Error:",a)}finally{u(!1)}};g&&a()},[g]);let V=async a=>{if(a.preventDefault(),U(""),!x||!z||!D||1e4>parseFloat(D))return void U("Mohon lengkapi semua field. Minimal donasi Rp 10.000.");if(p){K(!0);try{let a=await i({campaign_id:p.id,donor_name:x,donor_email:z,donor_phone:B,amount:parseFloat(D),message:F,is_anonymous:H,payment_method:"Transfer Bank"});O(a.id),M(!0)}catch(a){U("Terjadi kesalahan. Silakan coba lagi.")}finally{K(!1)}}};if(t)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"animate-pulse text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-emerald-100 dark:bg-emerald-900/30 mx-auto mb-4"}),(0,b.jsx)("div",{className:"h-4 w-48 bg-gray-200 dark:bg-gray-700 rounded mx-auto"})]})});if(!p)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(f.PiWarningCircleDuotone,{className:"text-5xl text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Campaign Tidak Ditemukan"}),(0,b.jsx)(e.default,{href:"/campaigns",className:"text-emerald-600 hover:underline text-sm",children:"â† Kembali ke daftar campaign"})]})});let W=p.target_amount>0?Math.round(p.collected_amount/p.target_amount*100):0,X=p.end_date?Math.max(0,Math.ceil((new Date(p.end_date).getTime()-Date.now())/864e5)):null;return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[(0,b.jsx)(m.default,{}),(0,b.jsx)("section",{className:"pt-16",children:(0,b.jsxs)("div",{className:"h-64 sm:h-80 relative overflow-hidden",style:{background:"linear-gradient(135deg, #064e3b 0%, #047857 60%, #059669 100%)"},children:[p.image?(0,b.jsx)("img",{src:p.image,alt:p.title,className:"absolute inset-0 w-full h-full object-cover"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"32px 32px"}}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)(f.PiHandHeartDuotone,{className:"text-white/10 text-[120px]"})})]}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm text-emerald-700 text-xs font-semibold px-3 py-1.5 rounded-lg",children:p.category_name||"Umum"})]})}),(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-12 relative z-10 pb-20",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-6 sm:p-8 mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 dark:text-white mb-4 leading-tight",children:p.title}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6 text-sm text-gray-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(f.PiUsersThreeDuotone,{className:"text-emerald-500"})," ",p.donor_count," donatur"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(f.PiCalendarCheckDuotone,{className:"text-emerald-500"})," ",new Date(p.start_date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]}),null!==X&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(f.PiClockDuotone,{className:"text-emerald-500"})," ",X>0?`${X} hari tersisa`:"Campaign berakhir"]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-xl font-extrabold text-emerald-600",children:n(p.collected_amount)}),(0,b.jsxs)("span",{className:"text-sm text-gray-400 self-end",children:["dari ",n(p.target_amount)]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-4",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-400 h-4 rounded-full transition-all duration-1000 relative",style:{width:`${Math.min(W,100)}%`},children:(0,b.jsxs)("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[10px] font-bold text-white",children:[W,"%"]})})})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>w("info"),className:`flex-1 py-4 text-sm font-semibold transition-colors ${"info"===v?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-500 hover:text-gray-700"}`,children:"Informasi"}),(0,b.jsxs)("button",{onClick:()=>w("donors"),className:`flex-1 py-4 text-sm font-semibold transition-colors ${"donors"===v?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-500 hover:text-gray-700"}`,children:["Donatur (",r.length,")"]})]}),(0,b.jsx)("div",{className:"p-6 sm:p-8",children:"info"===v?(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Tentang Campaign"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed mb-6",children:p.description}),p.content&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Detail"}),(0,b.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none text-gray-600 dark:text-gray-400 leading-relaxed",dangerouslySetInnerHTML:{__html:p.content}})]})]}):(0,b.jsx)("div",{children:0===r.length?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-400",children:"Belum ada donatur. Jadilah yang pertama!"})}):(0,b.jsx)("div",{className:"flex flex-col gap-4",children:r.map((a,c)=>{let d,e;return(0,b.jsxs)("div",{className:"flex items-start gap-3 pb-4 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 flex-shrink-0",children:(0,b.jsx)(f.PiUserDuotone,{})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:a.is_anonymous?"Hamba Allah":a.donor_name}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:(d=new Date(a.created_at),0===(e=Math.floor((new Date().getTime()-d.getTime())/864e5))?"Hari ini":1===e?"Kemarin":e<7?`${e} hari lalu`:e<30?`${Math.floor(e/7)} minggu lalu`:`${Math.floor(e/30)} bulan lalu`)})]}),(0,b.jsx)("p",{className:"text-sm font-bold text-emerald-600",children:n(a.amount)}),a.message&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1 italic",children:['"',a.message,'"']})]})]},c)})})})})]})]}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-6 sticky top-24",children:L?(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(f.PiCheckCircleDuotone,{className:"text-emerald-600 text-3xl"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Terima Kasih! ðŸ¤²"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Donasi Anda sebesar ",(0,b.jsx)("strong",{className:"text-emerald-600",children:n(parseFloat(D||"0"))})," telah tercatat."]}),(0,b.jsxs)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-4 mb-4 text-left",children:[(0,b.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-semibold mb-2",children:"Transfer ke rekening:"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Bank Syariah Indonesia (BSI)"}),(0,b.jsx)("button",{onClick:()=>navigator.clipboard.writeText("XXX-XXXX-XXX"),className:"text-emerald-600 hover:text-emerald-700",children:(0,b.jsx)(f.PiCopyDuotone,{className:"text-sm"})})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"XXX-XXXX-XXX"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"a.n. Yayasan Saling Bantu Kreasi Indonesia"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-4 mb-4 text-left",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ“Ž Upload Bukti Transfer"}),P?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600",children:[(0,b.jsx)(f.PiCheckCircleDuotone,{}),(0,b.jsx)("span",{className:"text-xs font-medium",children:"Bukti transfer berhasil diunggah!"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"text-[11px] text-gray-400 mb-3",children:"Upload bukti transfer untuk mempercepat proses verifikasi."}),(0,b.jsxs)("label",{className:"block",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:async a=>{let b=a.target.files?.[0];if(b&&N){S(!0);try{let a=new FormData;a.append("file",b);let c=await (0,k.uploadImage)(a);await j(N,c.url),Q(!0)}catch(a){console.error("Upload error:",a)}finally{S(!1)}}}}),(0,b.jsx)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 text-center cursor-pointer hover:border-emerald-500 transition-colors",children:R?(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Mengunggah..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.PiUploadDuotone,{className:"text-2xl text-gray-400 mx-auto mb-1"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Klik untuk memilih foto"}),(0,b.jsx)("p",{className:"text-[10px] text-gray-400",children:"JPG, PNG (Maks. 2MB)"})]})})]})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mb-4",children:"Donasi akan diverifikasi dalam 1x24 jam setelah transfer."}),(0,b.jsx)("button",{onClick:()=>{M(!1),Q(!1),O(""),y(""),A(""),E(""),G("")},className:"text-emerald-600 text-sm font-medium hover:underline",children:"Donasi lagi"})]}):(0,b.jsxs)("form",{onSubmit:V,children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[(0,b.jsx)(f.PiHeartDuotone,{className:"text-emerald-600"})," Berikan Donasi"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-5",children:"Setiap kebaikan akan kembali pada kita."}),T&&(0,b.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 text-xs p-3 rounded-xl mb-4 flex items-center gap-2",children:[(0,b.jsx)(f.PiWarningCircleDuotone,{})," ",T]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-2 block",children:"Pilih Nominal"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:o.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>E(String(a)),className:`py-2.5 rounded-xl text-xs font-semibold transition-all ${D===String(a)?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/25":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200"}`,children:a>=1e6?`${a/1e6} Jt`:`${a/1e3} Rb`},a))})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Atau nominal lainnya"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-sm text-gray-400 font-medium",children:"Rp"}),(0,b.jsx)("input",{type:"number",className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"0",value:D,onChange:a=>E(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Nama Lengkap *"}),(0,b.jsx)("input",{type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Nama Anda",value:x,onChange:a=>y(a.target.value)})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Email *"}),(0,b.jsx)("input",{type:"email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"email@example.com",value:z,onChange:a=>A(a.target.value)})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"No. WhatsApp"}),(0,b.jsx)("input",{type:"tel",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"08xxxxxxxxxx",value:B,onChange:a=>C(a.target.value)})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Pesan / Doa"}),(0,b.jsx)("textarea",{className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none",placeholder:"Semoga bermanfaat...",rows:2,value:F,onChange:a=>G(a.target.value)})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 mb-5 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded accent-emerald-600",checked:H,onChange:a=>I(a.target.checked)}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"Sembunyikan nama saya (Hamba Allah)"})]}),(0,b.jsx)("button",{type:"submit",disabled:J,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-emerald-500/25 transition-all hover:shadow-emerald-500/40 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:J?"Memproses...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.PiHeartDuotone,{className:"text-lg"})," Donasi Sekarang"]})}),(0,b.jsx)("p",{className:"text-[10px] text-gray-400 text-center mt-3",children:"Dengan berdonasi, Anda menyetujui syarat dan ketentuan yang berlaku."})]})})})]})})]})}],80442)}];

//# sourceMappingURL=src_app_%28public-pages%29_campaigns_%5Bslug%5D_page_tsx_bcdd7a98._.js.map