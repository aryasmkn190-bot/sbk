module.exports=[81212,a=>{"use strict";var b=a.i(37936),c=a.i(48734);async function d(){let a=await (0,c.query)("SELECT * FROM settings"),b={};return a.forEach(a=>{b[a.key]=a.value}),b}async function e(a){let b=await (0,c.queryFirst)("SELECT * FROM settings WHERE key = ?",[a]);return b?.value||""}async function f(a,b){await (0,c.execute)("INSERT OR REPLACE INTO settings (key, value, updated_at) VALUES (?, ?, ?)",[a,b,(0,c.nowWIB)()])}async function g(a){for(let[b,c]of Object.entries(a))await f(b,c)}async function h(a){return a?(0,c.query)("SELECT * FROM categories WHERE type = ? ORDER BY name",[a]):(0,c.query)("SELECT * FROM categories ORDER BY type, name")}async function i(){return h("campaign")}async function j(){return h("news")}(0,a.i(13095).ensureServerEntryExports)([d,e,f,g,h,i,j]),(0,b.registerServerReference)(d,"00ce9b7d34a5ff7cf5d8f3e3e4cce97b13aa2defdd",null),(0,b.registerServerReference)(e,"40fe6bd0117ce571d8ca685e3223ecf23d03b5a3f1",null),(0,b.registerServerReference)(f,"60084b96606dbd2b4d1dfed67998503e15731cd9ba",null),(0,b.registerServerReference)(g,"40cc5dc7c0f41860707e2133c7300c9397445c151d",null),(0,b.registerServerReference)(h,"40f728ce678adde562766b833a1db6dcfd43f948a9",null),(0,b.registerServerReference)(i,"00df93a0ae317fef9e8935bba0a0cd94f2184bcfd7",null),(0,b.registerServerReference)(j,"005bd03ddbce436349c0ff8debfe51d321cf52c9e1",null),a.s(["getCampaignCategories",()=>i,"getNewsCategories",()=>j,"getSettings",()=>d,"updateSettings",()=>g])},16085,a=>{"use strict";var b=a.i(37936),c=a.i(48734);async function d(a,b=20){return(0,c.query)(`SELECT donor_name, amount, message, is_anonymous, created_at
         FROM donations
         WHERE campaign_id = ? AND status = 'verified'
         ORDER BY created_at DESC
         LIMIT ?`,[a,b])}async function e(a){return await (0,c.execute)("UPDATE news SET view_count = view_count + 1 WHERE slug = ?",[a]),(0,c.queryFirst)(`SELECT n.*, cat.name as category_name, u.name as author_name
         FROM news n
         LEFT JOIN categories cat ON n.category_id = cat.id
         LEFT JOIN users u ON n.author_id = u.id
         WHERE n.slug = ?`,[a])}async function f(a,b,d=3){return(0,c.query)(`SELECT n.*, cat.name as category_name
         FROM news n
         LEFT JOIN categories cat ON n.category_id = cat.id
         WHERE n.status = 'published' AND n.id != ? AND n.category_id = ?
         ORDER BY n.published_at DESC LIMIT ?`,[a,b,d])}async function g(a){let b=(0,c.generateId)();return await (0,c.execute)("INSERT INTO contacts (id, name, email, phone, subject, message) VALUES (?, ?, ?, ?, ?, ?)",[b,a.name,a.email,a.phone||"",a.subject,a.message]),{id:b}}(0,a.i(13095).ensureServerEntryExports)([d,e,f,g]),(0,b.registerServerReference)(d,"60e31ddcb0447823b306bdb0e306027d7f8bda93a5",null),(0,b.registerServerReference)(e,"40a419a27ed8bce24fd0f6230cee833da17b97119b",null),(0,b.registerServerReference)(f,"7075ad8dc5ccfce89285818e099c8f6e9f27ca0d5c",null),(0,b.registerServerReference)(g,"407707b46bd1556ebd576f300bb0453c3f620b2f80",null),a.s(["getCampaignDonors",()=>d,"getNewsBySlug",()=>e,"getRelatedNews",()=>f,"submitContactForm",()=>g])},43088,a=>{"use strict";var b=a.i(39624),c=a.i(25737),d=a.i(16085),e=a.i(81212);a.s([],82780),a.i(82780),a.s(["00ce9b7d34a5ff7cf5d8f3e3e4cce97b13aa2defdd",()=>e.getSettings,"00cf2a8738ddd41ad6903161d87efa51e887637153",()=>c.getTheme,"40745ded225c07a0af4ec4245c71c88dec53a174cf",()=>c.setTheme,"407707b46bd1556ebd576f300bb0453c3f620b2f80",()=>d.submitContactForm,"40ccd30b3cc6655717bc8b6776451d6ff35c8e08bd",()=>b.default],43088)}];

//# sourceMappingURL=_38e6e5a5._.js.map