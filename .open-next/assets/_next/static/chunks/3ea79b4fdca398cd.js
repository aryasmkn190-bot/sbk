(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25116,e=>{"use strict";var t=e.i(8297);e.s(["Dialog",()=>t.default])},8599,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(95069),l=e.i(96678),i=e.i(50719),r=e.i(46932),n=e.i(50815),c=e.i(10837);let o="warning",d={success:{backgroundColor:"bg-success-subtle",titleColor:"text-success",textColor:"text-success",iconColor:"text-success",icon:(0,t.jsx)(i.HiCheckCircle,{})},info:{backgroundColor:"bg-info-subtle",titleColor:"text-info",textColor:"text-info",iconColor:"text-info",icon:(0,t.jsx)(i.HiInformationCircle,{})},warning:{backgroundColor:"bg-warning-subtle",titleColor:"text-warning",textColor:"text-warning",iconColor:"text-warning",icon:(0,t.jsx)(i.HiExclamation,{})},danger:{backgroundColor:"bg-error-subtle",titleColor:"text-error",textColor:"text-error",iconColor:"text-error",icon:(0,t.jsx)(i.HiXCircle,{})}},u=["success","danger","info","warning"];e.s(["default",0,e=>{let{children:i,className:x,closable:m=!1,customClose:f,customIcon:p,duration:g=3e3,title:h=null,onClose:j,ref:y,showIcon:v=!1,triggerByToast:b=!1,...N}=e,C=(()=>{let{type:t=o}=e;return u.includes(t)?t:o})(),w=d[C],[S,k]=(0,a.useState)("show"),{clear:T}=(0,l.default)(j,g,g>0),I=(0,s.default)("alert",w.backgroundColor,w.textColor,h?"":"font-semibold",m?"justify-between":"",m&&!h?"items-center":"",!b&&"rounded-xl",x);return"hide"===S?null:(0,t.jsxs)(r.motion.div,{ref:y,className:I,initial:{opacity:1},animate:"hiding"===S?"exit":"animate",transition:{duration:.25,type:"tween"},variants:{animate:{opacity:1},exit:{opacity:0}},...N,children:[(0,t.jsxs)("div",{className:(0,s.default)("flex gap-2",!h&&i?"items-center":"",h&&i?"mt-0.5":""),children:[v&&(0,t.jsx)(c.default,{iconColor:w.iconColor,custom:p,type:C}),(0,t.jsxs)("div",{children:[h?(0,t.jsx)("div",{className:(0,s.default)("font-semibold text-lg mb-1",w.titleColor),children:h}):null,i]})]}),m?(0,t.jsx)("div",{className:"cursor-pointer",role:"presentation",onClick:e=>{k("hiding"),j?.(e),T(),!b&&setTimeout(()=>{k("hide")},400)},children:f||(0,t.jsx)(n.default,{resetDefaultClass:!0,className:"text-lg outline-hidden"})}):null]})}],8599)},61112,50736,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(43794);e.i(19656);var l=e.i(44721),i=e.i(42018),r=e.i(88374),n=e.i(88598),c=e.i(29873);let o=e=>{let o,d,u,{asElement:x="input",className:m,disabled:f,invalid:p,prefix:g,size:h,suffix:j,textArea:y,type:v="text",ref:b,rows:N,style:C,unstyle:w=!1,...S}=e,[k,T]=(0,a.useState)(0),[I,L]=(0,a.useState)(0),{controlSize:O,direction:R}=(0,l.useConfig)(),A=(0,i.useForm)()?.size,D=(0,i.useFormItem)()?.invalid,P=(0,r.useInputGroup)()?.size,E=h||P||A||O,_=p||D;if("value"in e){var B;S.value=null==(B=e.value)?"":B,delete S.defaultValue}let M=`input-${E} ${n.CONTROL_SIZES[E].h}`,$=(0,s.default)("input-wrapper",g||j?m:""),z=(0,s.default)("input",M,!_&&"focus:ring-primary focus-within:ring-primary focus-within:border-primary focus:border-primary",g||j?"":m,f&&"input-disabled",_&&"input-invalid",y&&"input-textarea"),F=(0,a.useRef)(null),U=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{if(!F.current&&!U.current)return;let e=F?.current?.offsetWidth,t=U?.current?.offsetWidth;!((0,c.default)(e)&&(0,c.default)(t))&&(e&&T(e),t&&L(t))})()},[g,j]);let H={className:w?"":z,disabled:f,type:v,ref:b,...S},Z=(0,t.jsx)("textarea",{style:C,rows:N,...H}),Y=(0,t.jsx)(x,{style:{...(o=`${.0625*k+1}rem`,d=`${.0625*I+1}rem`,u={},"ltr"===R&&(g&&(u.paddingLeft=o),j&&(u.paddingRight=d)),"rtl"===R&&(g&&(u.paddingRight=o),j&&(u.paddingLeft=d)),u),...C},...H}),W=(0,t.jsxs)("span",{className:$,children:[g?(0,t.jsxs)("div",{ref:F,className:"input-suffix-start",children:[" ",g," "]}):null,Y,j?(0,t.jsx)("div",{ref:U,className:"input-suffix-end",children:j}):null]});return y?Z:g||j?W:Y};e.s(["default",0,o],50736),e.s(["default",0,o],61112)},61222,65748,69749,e=>{"use strict";var t=e.i(43476),a=e.i(42018);e.i(19656);var s=e.i(44721),l=e.i(43794),i=e.i(88598);let r=e=>{let{controlSize:r}=(0,s.useConfig)(),{children:n,className:c,labelWidth:o=100,layout:d=i.LAYOUT.VERTICAL,size:u=i.SIZES.MD}=e;return(0,t.jsx)(a.FormContextProvider,{value:{labelWidth:o,layout:d,size:u||r},children:(0,t.jsx)(a.FormContextConsumer,{children:e=>(0,t.jsx)("div",{className:(0,l.default)("form-container",e?.layout,c),children:n})})})};r.displayName="FormContainer",e.s(["default",0,r],65748),e.s(["default",0,e=>{let{children:a,containerClassName:s,labelWidth:l,layout:i,size:n,ref:c,...o}=e;return(0,t.jsx)("form",{ref:c,...o,children:(0,t.jsx)(r,{className:s,labelWidth:l,layout:i,size:n,children:a})})}],61222);var n=e.i(95069),c=e.i(46932),o=e.i(88653);e.s(["default",0,e=>{let{asterisk:l,children:r,className:d,errorMessage:u,extra:x,htmlFor:m,invalid:f,label:p,labelClass:g,labelWidth:h,layout:j,ref:y,style:v,size:b}=e,N=(0,a.useForm)(),{controlSize:C}=(0,s.useConfig)(),w=b||N?.size||C,S=h||N?.labelWidth,k=j||N?.layout||"vertical",T=(0,n.default)("form-item",k,d,f?"invalid":""),I=(0,n.default)("form-label",p&&(()=>{switch(k){case i.LAYOUT.HORIZONTAL:return p?`${i.CONTROL_SIZES[w].h} ${p&&"ltr:pr-2 rtl:pl-2"}`:"ltr:pr-2 rtl:pl-2";case i.LAYOUT.VERTICAL:return"mb-2";case i.LAYOUT.INLINE:return`${i.CONTROL_SIZES[w].h} ${p&&"ltr:pr-2 rtl:pl-2"}`;default:return""}})(),g),L={opacity:0,marginTop:-10};return(0,t.jsx)(a.FormItemContextProvider,{value:{invalid:f},children:(0,t.jsxs)("div",{ref:y,className:T,children:[(0,t.jsxs)("label",{htmlFor:m,className:I,style:k===i.LAYOUT.HORIZONTAL?{...v,minWidth:S}:{...v},children:[l&&(0,t.jsx)("span",{className:"text-red-500 ltr:mr-1 rtl:ml-1",children:"*"}),p,x&&(0,t.jsx)("span",{children:x}),p&&"vertical"!==k&&":"]}),(0,t.jsxs)("div",{className:k===i.LAYOUT.HORIZONTAL?"w-full flex flex-col justify-center relative":"",children:[r,(0,t.jsx)(o.AnimatePresence,{mode:"wait",children:f&&(0,t.jsx)(c.motion.div,{className:"form-explain",initial:L,animate:{opacity:1,marginTop:3,bottom:-21},exit:L,transition:{duration:.15,type:"tween"},children:u})})]})]})})}],69749)},57766,e=>{"use strict";var t=e.i(50736);e.s(["Input",()=>t.default])},88918,61091,50949,30634,e=>{"use strict";var t=e.i(5702);e.s(["Button",()=>t.default],88918);var a=e.i(61112);e.s(["Input",()=>a.default],61091);var s=e.i(14926);e.s(["Notification",()=>s.default],50949);var l=e.i(73135);e.s(["toast",()=>l.default],30634)},75230,e=>{"use strict";var t=e.i(16302);e.s(["Select",()=>t.default])},51667,e=>{"use strict";var t=e.i(25908);e.s(["Pagination",()=>t.default])},8147,e=>{"use strict";var t=e.i(95187);let a=(0,t.createServerReference)("4079f844e94cba25888646bdac8a3d25614be20471",t.callServer,void 0,t.findSourceMapURL,"getCampaigns");e.s(["getCampaigns",()=>a])},81537,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(16787);var s=e.i(83281),l=e.i(88918),i=e.i(61091),r=e.i(76937),r=r,n=e.i(25116),c=e.i(50949),o=e.i(30634),d=e.i(75230),u=e.i(51667),x=e.i(72637),m=e.i(22016),f=e.i(8147),p=e.i(95187);let g=(0,p.createServerReference)("4075336d921e2e86140348d43d2147334053f471da",p.callServer,void 0,p.findSourceMapURL,"deleteCampaign"),h={draft:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300",active:"bg-success-subtle text-success",completed:"bg-info-subtle text-info",cancelled:"bg-error-subtle text-error"},j={draft:"Draft",active:"Aktif",completed:"Selesai",cancelled:"Dibatalkan"},y=[{value:"all",label:"Semua Status"},{value:"active",label:"Aktif"},{value:"draft",label:"Draft"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"}],v=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e);e.s(["default",0,()=>{let[e,p]=(0,a.useState)([]),[b,N]=(0,a.useState)(!0),[C,w]=(0,a.useState)(""),[S,k]=(0,a.useState)("all"),[T,I]=(0,a.useState)(!1),[L,O]=(0,a.useState)(null),[R,A]=(0,a.useState)(1),D=async()=>{try{let e=await (0,f.getCampaigns)();p(e)}catch(e){console.error("Error loading campaigns:",e)}finally{N(!1)}};(0,a.useEffect)(()=>{D()},[]);let P=e.filter(e=>{let t=e.title.toLowerCase().includes(C.toLowerCase()),a="all"===S||e.status===S;return t&&a});P.length;let E=(0,a.useMemo)(()=>{let e=(R-1)*10;return P.slice(e,e+10)},[P,R,10]);(0,a.useEffect)(()=>{A(1)},[C,S]);let _=async()=>{if(L)try{await g(L.id),o.toast.push((0,t.jsxs)(c.Notification,{type:"success",title:"Campaign Dihapus",children:['Campaign "',L.title,'" berhasil dihapus.']})),D()}catch(e){o.toast.push((0,t.jsx)(c.Notification,{type:"danger",title:"Error",children:"Gagal menghapus campaign."}))}I(!1),O(null)};return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[(0,t.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,t.jsx)(x.PiMagnifyingGlassDuotone,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,t.jsx)(i.Input,{placeholder:"Cari campaign...",className:"pl-9",value:C,onChange:e=>w(e.target.value)})]}),(0,t.jsx)("div",{className:"w-40",children:(0,t.jsx)(d.Select,{size:"md",options:y,defaultValue:y[0],onChange:e=>k(e?.value||"all")})})]}),(0,t.jsx)(m.default,{href:"/dashboard/campaigns/create",children:(0,t.jsx)(l.Button,{variant:"solid",icon:(0,t.jsx)(x.PiPlusCircleDuotone,{}),children:"Buat Campaign"})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)("div",{className:"overflow-x-auto",children:[b?(0,t.jsx)("div",{className:"p-8 text-center text-gray-400",children:"Memuat data..."}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-500",children:"Campaign"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Kategori"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Progress"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Donatur"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Periode"}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-sm font-semibold text-gray-500",children:"Aksi"})]})}),(0,t.jsx)("tbody",{children:E.map(e=>{let a=e.target_amount>0?Math.round(e.collected_amount/e.target_amount*100):0;return(0,t.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[v(e.collected_amount)," / ",v(e.target_amount)]})]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)(r.default,{className:"bg-primary-subtle text-primary",children:e.category_name||"-"})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min(a,100)}%`}})}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[a,"%"]})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm",children:e.donor_count}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${h[e.status]}`,children:j[e.status]})}),(0,t.jsxs)("td",{className:"py-4 px-4 text-sm text-gray-500",children:[(0,t.jsx)("div",{children:e.start_date}),(0,t.jsxs)("div",{className:"text-xs",children:["s/d ",e.end_date||"-"]})]}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(l.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiEyeDuotone,{className:"text-lg"})}),(0,t.jsx)(m.default,{href:`/dashboard/campaigns/${e.id}`,children:(0,t.jsx)(l.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiPencilDuotone,{className:"text-lg"})})}),(0,t.jsx)(l.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiTrashDuotone,{className:"text-lg text-error"}),onClick:()=>{O(e),I(!0)}})]})})]},e.id)})})]}),!b&&0===P.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(x.PiMagnifyingGlassDuotone,{className:"text-4xl mx-auto mb-3 text-gray-300"}),(0,t.jsx)("p",{children:"Tidak ada campaign ditemukan."})]})]}),!b&&P.length>10&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Menampilkan ",(R-1)*10+1,"-",Math.min(10*R,P.length)," dari ",P.length]}),(0,t.jsx)(u.Pagination,{total:P.length,pageSize:10,currentPage:R,onChange:e=>A(e)})]})]}),(0,t.jsxs)(n.Dialog,{isOpen:T,onClose:()=>I(!1),onRequestClose:()=>I(!1),children:[(0,t.jsx)("h5",{className:"mb-4 font-bold",children:"Hapus Campaign"}),(0,t.jsxs)("p",{className:"mb-6 text-gray-500",children:["Apakah Anda yakin ingin menghapus campaign ",(0,t.jsxs)("strong",{children:['"',L?.title,'"']}),"? Semua data donasi terkait juga akan dihapus."]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(l.Button,{variant:"plain",onClick:()=>I(!1),children:"Batal"}),(0,t.jsx)(l.Button,{variant:"solid",color:"red",onClick:_,children:"Hapus"})]})]})]})}],81537)}]);