(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25116,e=>{"use strict";var t=e.i(8297);e.s(["Dialog",()=>t.default])},8599,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(95069),r=e.i(96678),i=e.i(50719),l=e.i(46932),n=e.i(50815),o=e.i(10837);let c="warning",d={success:{backgroundColor:"bg-success-subtle",titleColor:"text-success",textColor:"text-success",iconColor:"text-success",icon:(0,t.jsx)(i.HiCheckCircle,{})},info:{backgroundColor:"bg-info-subtle",titleColor:"text-info",textColor:"text-info",iconColor:"text-info",icon:(0,t.jsx)(i.HiInformationCircle,{})},warning:{backgroundColor:"bg-warning-subtle",titleColor:"text-warning",textColor:"text-warning",iconColor:"text-warning",icon:(0,t.jsx)(i.HiExclamation,{})},danger:{backgroundColor:"bg-error-subtle",titleColor:"text-error",textColor:"text-error",iconColor:"text-error",icon:(0,t.jsx)(i.HiXCircle,{})}},x=["success","danger","info","warning"];e.s(["default",0,e=>{let{children:i,className:u,closable:m=!1,customClose:f,customIcon:h,duration:p=3e3,title:g=null,onClose:j,ref:y,showIcon:b=!1,triggerByToast:v=!1,...N}=e,C=(()=>{let{type:t=c}=e;return x.includes(t)?t:c})(),w=d[C],[k,S]=(0,s.useState)("show"),{clear:T}=(0,r.default)(j,p,p>0),D=(0,a.default)("alert",w.backgroundColor,w.textColor,g?"":"font-semibold",m?"justify-between":"",m&&!g?"items-center":"",!v&&"rounded-xl",u);return"hide"===k?null:(0,t.jsxs)(l.motion.div,{ref:y,className:D,initial:{opacity:1},animate:"hiding"===k?"exit":"animate",transition:{duration:.25,type:"tween"},variants:{animate:{opacity:1},exit:{opacity:0}},...N,children:[(0,t.jsxs)("div",{className:(0,a.default)("flex gap-2",!g&&i?"items-center":"",g&&i?"mt-0.5":""),children:[b&&(0,t.jsx)(o.default,{iconColor:w.iconColor,custom:h,type:C}),(0,t.jsxs)("div",{children:[g?(0,t.jsx)("div",{className:(0,a.default)("font-semibold text-lg mb-1",w.titleColor),children:g}):null,i]})]}),m?(0,t.jsx)("div",{className:"cursor-pointer",role:"presentation",onClick:e=>{S("hiding"),j?.(e),T(),!v&&setTimeout(()=>{S("hide")},400)},children:f||(0,t.jsx)(n.default,{resetDefaultClass:!0,className:"text-lg outline-hidden"})}):null]})}],8599)},61112,50736,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(43794);e.i(19656);var r=e.i(44721),i=e.i(42018),l=e.i(88374),n=e.i(88598),o=e.i(29873);let c=e=>{let c,d,x,{asElement:u="input",className:m,disabled:f,invalid:h,prefix:p,size:g,suffix:j,textArea:y,type:b="text",ref:v,rows:N,style:C,unstyle:w=!1,...k}=e,[S,T]=(0,s.useState)(0),[D,L]=(0,s.useState)(0),{controlSize:R,direction:_}=(0,r.useConfig)(),I=(0,i.useForm)()?.size,A=(0,i.useFormItem)()?.invalid,O=(0,l.useInputGroup)()?.size,E=g||O||I||R,M=h||A;if("value"in e){var P;k.value=null==(P=e.value)?"":P,delete k.defaultValue}let F=`input-${E} ${n.CONTROL_SIZES[E].h}`,U=(0,a.default)("input-wrapper",p||j?m:""),B=(0,a.default)("input",F,!M&&"focus:ring-primary focus-within:ring-primary focus-within:border-primary focus:border-primary",p||j?"":m,f&&"input-disabled",M&&"input-invalid",y&&"input-textarea"),z=(0,s.useRef)(null),$=(0,s.useRef)(null);(0,s.useEffect)(()=>{(()=>{if(!z.current&&!$.current)return;let e=z?.current?.offsetWidth,t=$?.current?.offsetWidth;!((0,o.default)(e)&&(0,o.default)(t))&&(e&&T(e),t&&L(t))})()},[p,j]);let H={className:w?"":B,disabled:f,type:b,ref:v,...k},Z=(0,t.jsx)("textarea",{style:C,rows:N,...H}),V=(0,t.jsx)(u,{style:{...(c=`${.0625*S+1}rem`,d=`${.0625*D+1}rem`,x={},"ltr"===_&&(p&&(x.paddingLeft=c),j&&(x.paddingRight=d)),"rtl"===_&&(p&&(x.paddingRight=c),j&&(x.paddingLeft=d)),x),...C},...H}),Y=(0,t.jsxs)("span",{className:U,children:[p?(0,t.jsxs)("div",{ref:z,className:"input-suffix-start",children:[" ",p," "]}):null,V,j?(0,t.jsx)("div",{ref:$,className:"input-suffix-end",children:j}):null]});return y?Z:p||j?Y:V};e.s(["default",0,c],50736),e.s(["default",0,c],61112)},61222,65748,69749,e=>{"use strict";var t=e.i(43476),s=e.i(42018);e.i(19656);var a=e.i(44721),r=e.i(43794),i=e.i(88598);let l=e=>{let{controlSize:l}=(0,a.useConfig)(),{children:n,className:o,labelWidth:c=100,layout:d=i.LAYOUT.VERTICAL,size:x=i.SIZES.MD}=e;return(0,t.jsx)(s.FormContextProvider,{value:{labelWidth:c,layout:d,size:x||l},children:(0,t.jsx)(s.FormContextConsumer,{children:e=>(0,t.jsx)("div",{className:(0,r.default)("form-container",e?.layout,o),children:n})})})};l.displayName="FormContainer",e.s(["default",0,l],65748),e.s(["default",0,e=>{let{children:s,containerClassName:a,labelWidth:r,layout:i,size:n,ref:o,...c}=e;return(0,t.jsx)("form",{ref:o,...c,children:(0,t.jsx)(l,{className:a,labelWidth:r,layout:i,size:n,children:s})})}],61222);var n=e.i(95069),o=e.i(46932),c=e.i(88653);e.s(["default",0,e=>{let{asterisk:r,children:l,className:d,errorMessage:x,extra:u,htmlFor:m,invalid:f,label:h,labelClass:p,labelWidth:g,layout:j,ref:y,style:b,size:v}=e,N=(0,s.useForm)(),{controlSize:C}=(0,a.useConfig)(),w=v||N?.size||C,k=g||N?.labelWidth,S=j||N?.layout||"vertical",T=(0,n.default)("form-item",S,d,f?"invalid":""),D=(0,n.default)("form-label",h&&(()=>{switch(S){case i.LAYOUT.HORIZONTAL:return h?`${i.CONTROL_SIZES[w].h} ${h&&"ltr:pr-2 rtl:pl-2"}`:"ltr:pr-2 rtl:pl-2";case i.LAYOUT.VERTICAL:return"mb-2";case i.LAYOUT.INLINE:return`${i.CONTROL_SIZES[w].h} ${h&&"ltr:pr-2 rtl:pl-2"}`;default:return""}})(),p),L={opacity:0,marginTop:-10};return(0,t.jsx)(s.FormItemContextProvider,{value:{invalid:f},children:(0,t.jsxs)("div",{ref:y,className:T,children:[(0,t.jsxs)("label",{htmlFor:m,className:D,style:S===i.LAYOUT.HORIZONTAL?{...b,minWidth:k}:{...b},children:[r&&(0,t.jsx)("span",{className:"text-red-500 ltr:mr-1 rtl:ml-1",children:"*"}),h,u&&(0,t.jsx)("span",{children:u}),h&&"vertical"!==S&&":"]}),(0,t.jsxs)("div",{className:S===i.LAYOUT.HORIZONTAL?"w-full flex flex-col justify-center relative":"",children:[l,(0,t.jsx)(c.AnimatePresence,{mode:"wait",children:f&&(0,t.jsx)(o.motion.div,{className:"form-explain",initial:L,animate:{opacity:1,marginTop:3,bottom:-21},exit:L,transition:{duration:.15,type:"tween"},children:x})})]})]})})}],69749)},57766,e=>{"use strict";var t=e.i(50736);e.s(["Input",()=>t.default])},88918,61091,50949,30634,e=>{"use strict";var t=e.i(5702);e.s(["Button",()=>t.default],88918);var s=e.i(61112);e.s(["Input",()=>s.default],61091);var a=e.i(14926);e.s(["Notification",()=>a.default],50949);var r=e.i(73135);e.s(["toast",()=>r.default],30634)},75230,e=>{"use strict";var t=e.i(16302);e.s(["Select",()=>t.default])},51667,e=>{"use strict";var t=e.i(25908);e.s(["Pagination",()=>t.default])},924,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(16787);var a=e.i(83281),r=e.i(88918),i=e.i(61091),l=e.i(25116),n=e.i(50949),o=e.i(30634),c=e.i(75230),d=e.i(51667),x=e.i(72637),u=e.i(95187);let m=(0,u.createServerReference)("40ec595c3630979151c709855655d8fa74ea3d923d",u.callServer,void 0,u.findSourceMapURL,"getDonations"),f=(0,u.createServerReference)("006ed7c8bf2894eedb249ba77df49f66dbfdffcad2",u.callServer,void 0,u.findSourceMapURL,"getDonationSummary"),h=(0,u.createServerReference)("60d0fe0719260417148140217b5fd39de9db7702bb",u.callServer,void 0,u.findSourceMapURL,"verifyDonation"),p=(0,u.createServerReference)("4092bd3a821b2d4072c55e5a8ad7af70c2843495d5",u.callServer,void 0,u.findSourceMapURL,"rejectDonation"),g={pending:"bg-warning-subtle text-warning",verified:"bg-success-subtle text-success",rejected:"bg-error-subtle text-error"},j={pending:"Menunggu",verified:"Terverifikasi",rejected:"Ditolak"},y=[{value:"all",label:"Semua Status"},{value:"pending",label:"Menunggu"},{value:"verified",label:"Terverifikasi"},{value:"rejected",label:"Ditolak"}],b=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e);e.s(["default",0,()=>{let[e,u]=(0,s.useState)([]),[v,N]=(0,s.useState)({pendingCount:0,pendingTotal:0,verifiedThisMonth:0,totalAll:0}),[C,w]=(0,s.useState)(!0),[k,S]=(0,s.useState)(""),[T,D]=(0,s.useState)("all"),[L,R]=(0,s.useState)(!1),[_,I]=(0,s.useState)(null),[A,O]=(0,s.useState)(1),E=async()=>{try{let[e,t]=await Promise.all([m(),f()]);u(e),N(t)}catch(e){console.error("Error loading donations:",e)}finally{w(!1)}};(0,s.useEffect)(()=>{E()},[]);let M=e.filter(e=>{let t=e.donor_name.toLowerCase().includes(k.toLowerCase())||(e.campaign_title||"").toLowerCase().includes(k.toLowerCase()),s="all"===T||e.status===T;return t&&s}),P=(0,s.useMemo)(()=>{let e=(A-1)*10;return M.slice(e,e+10)},[M,A,10]);(0,s.useEffect)(()=>{O(1)},[k,T]);let F=async e=>{try{await h(e.id),o.toast.push((0,t.jsxs)(n.Notification,{type:"success",title:"Donasi Diverifikasi",children:[b(e.amount)," dari ",e.is_anonymous?"Anonim":e.donor_name," telah diverifikasi."]})),R(!1),E()}catch(e){o.toast.push((0,t.jsx)(n.Notification,{type:"danger",title:"Error",children:"Gagal memverifikasi donasi."}))}},U=async e=>{try{await p(e.id),o.toast.push((0,t.jsxs)(n.Notification,{type:"warning",title:"Donasi Ditolak",children:["Donasi dari ",e.is_anonymous?"Anonim":e.donor_name," telah ditolak."]})),R(!1),E()}catch(e){o.toast.push((0,t.jsx)(n.Notification,{type:"danger",title:"Error",children:"Gagal menolak donasi."}))}};return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsxs)(a.Card,{className:"p-4 border-l-4 border-l-warning",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Menunggu Verifikasi"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-warning",children:v.pendingCount})]}),(0,t.jsxs)(a.Card,{className:"p-4 border-l-4 border-l-success",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Terverifikasi (Bulan Ini)"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-success",children:b(v.verifiedThisMonth)})]}),(0,t.jsxs)(a.Card,{className:"p-4 border-l-4 border-l-primary",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Semua Donasi"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:b(v.totalAll)})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,t.jsx)(x.PiMagnifyingGlassDuotone,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,t.jsx)(i.Input,{placeholder:"Cari donatur atau campaign...",className:"pl-9",value:k,onChange:e=>S(e.target.value)})]}),(0,t.jsx)("div",{className:"w-48",children:(0,t.jsx)(c.Select,{size:"md",options:y,defaultValue:y[0],onChange:e=>D(e?.value||"all")})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:C?(0,t.jsx)("div",{className:"p-8 text-center text-gray-400",children:"Memuat data..."}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-500",children:"Donatur"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Campaign"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Jumlah"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Metode"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Tanggal"}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-sm font-semibold text-gray-500",children:"Aksi"})]})}),(0,t.jsx)("tbody",{children:P.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,t.jsxs)("td",{className:"py-4 px-6",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.is_anonymous?"Anonim":e.donor_name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.donor_email})]}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-400 max-w-[180px] truncate",children:e.campaign_title}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm font-bold text-gray-900 dark:text-gray-100",children:b(e.amount)}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm text-gray-500",children:e.payment_method}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${g[e.status]}`,children:j[e.status]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm text-gray-500",children:e.created_at}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(r.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiEyeDuotone,{className:"text-lg"}),onClick:()=>{I(e),R(!0)}}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiCheckCircleDuotone,{className:"text-lg text-success"}),onClick:()=>F(e)}),(0,t.jsx)(r.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiXCircleDuotone,{className:"text-lg text-error"}),onClick:()=>U(e)})]})]})})]},e.id))})]})}),!C&&M.length>10&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Menampilkan ",(A-1)*10+1,"-",Math.min(10*A,M.length)," dari ",M.length]}),(0,t.jsx)(d.Pagination,{total:M.length,pageSize:10,currentPage:A,onChange:e=>O(e)})]})]}),(0,t.jsx)(l.Dialog,{isOpen:L,onClose:()=>R(!1),onRequestClose:()=>R(!1),children:_&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"mb-4 font-bold",children:"Detail Donasi"}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Donatur:"}),(0,t.jsx)("span",{className:"font-medium",children:_.is_anonymous?"Anonim":_.donor_name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Email:"}),(0,t.jsx)("span",{children:_.donor_email})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Telepon:"}),(0,t.jsx)("span",{children:_.donor_phone||"-"})]}),(0,t.jsx)("hr",{className:"border-gray-200 dark:border-gray-700"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Campaign:"}),(0,t.jsx)("span",{className:"font-medium",children:_.campaign_title})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Jumlah:"}),(0,t.jsx)("span",{className:"font-bold text-primary",children:b(_.amount)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Metode:"}),(0,t.jsx)("span",{children:_.payment_method})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Tanggal:"}),(0,t.jsx)("span",{children:_.created_at})]}),_.message&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:"border-gray-200 dark:border-gray-700"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 block mb-1",children:"Pesan:"}),(0,t.jsxs)("p",{className:"italic",children:['"',_.message,'"']})]})]}),_.payment_proof&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:"border-gray-200 dark:border-gray-700"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 block mb-2",children:"Bukti Transfer:"}),(0,t.jsx)("img",{src:_.payment_proof,alt:"Bukti transfer",className:"w-full max-h-64 object-contain rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${g[_.status]}`,children:j[_.status]})]})]}),"pending"===_.status&&(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,t.jsx)(r.Button,{variant:"default",onClick:()=>U(_),children:"Tolak"}),(0,t.jsx)(r.Button,{variant:"solid",onClick:()=>F(_),children:"Verifikasi"})]})]})})]})}],924)}]);