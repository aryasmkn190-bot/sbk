(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25116,e=>{"use strict";var t=e.i(8297);e.s(["Dialog",()=>t.default])},8599,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(95069),i=e.i(96678),r=e.i(50719),l=e.i(46932),n=e.i(50815),o=e.i(10837);let c="warning",d={success:{backgroundColor:"bg-success-subtle",titleColor:"text-success",textColor:"text-success",iconColor:"text-success",icon:(0,t.jsx)(r.HiCheckCircle,{})},info:{backgroundColor:"bg-info-subtle",titleColor:"text-info",textColor:"text-info",iconColor:"text-info",icon:(0,t.jsx)(r.HiInformationCircle,{})},warning:{backgroundColor:"bg-warning-subtle",titleColor:"text-warning",textColor:"text-warning",iconColor:"text-warning",icon:(0,t.jsx)(r.HiExclamation,{})},danger:{backgroundColor:"bg-error-subtle",titleColor:"text-error",textColor:"text-error",iconColor:"text-error",icon:(0,t.jsx)(r.HiXCircle,{})}},u=["success","danger","info","warning"];e.s(["default",0,e=>{let{children:r,className:x,closable:m=!1,customClose:f,customIcon:h,duration:p=3e3,title:g=null,onClose:j,ref:b,showIcon:v=!1,triggerByToast:y=!1,...N}=e,C=(()=>{let{type:t=c}=e;return u.includes(t)?t:c})(),w=d[C],[S,k]=(0,a.useState)("show"),{clear:T}=(0,i.default)(j,p,p>0),L=(0,s.default)("alert",w.backgroundColor,w.textColor,g?"":"font-semibold",m?"justify-between":"",m&&!g?"items-center":"",!y&&"rounded-xl",x);return"hide"===S?null:(0,t.jsxs)(l.motion.div,{ref:b,className:L,initial:{opacity:1},animate:"hiding"===S?"exit":"animate",transition:{duration:.25,type:"tween"},variants:{animate:{opacity:1},exit:{opacity:0}},...N,children:[(0,t.jsxs)("div",{className:(0,s.default)("flex gap-2",!g&&r?"items-center":"",g&&r?"mt-0.5":""),children:[v&&(0,t.jsx)(o.default,{iconColor:w.iconColor,custom:h,type:C}),(0,t.jsxs)("div",{children:[g?(0,t.jsx)("div",{className:(0,s.default)("font-semibold text-lg mb-1",w.titleColor),children:g}):null,r]})]}),m?(0,t.jsx)("div",{className:"cursor-pointer",role:"presentation",onClick:e=>{k("hiding"),j?.(e),T(),!y&&setTimeout(()=>{k("hide")},400)},children:f||(0,t.jsx)(n.default,{resetDefaultClass:!0,className:"text-lg outline-hidden"})}):null]})}],8599)},61112,50736,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(43794);e.i(19656);var i=e.i(44721),r=e.i(42018),l=e.i(88374),n=e.i(88598),o=e.i(29873);let c=e=>{let c,d,u,{asElement:x="input",className:m,disabled:f,invalid:h,prefix:p,size:g,suffix:j,textArea:b,type:v="text",ref:y,rows:N,style:C,unstyle:w=!1,...S}=e,[k,T]=(0,a.useState)(0),[L,R]=(0,a.useState)(0),{controlSize:I,direction:O}=(0,i.useConfig)(),U=(0,r.useForm)()?.size,P=(0,r.useFormItem)()?.invalid,A=(0,l.useInputGroup)()?.size,E=g||A||U||I,B=h||P;if("value"in e){var $;S.value=null==($=e.value)?"":$,delete S.defaultValue}let z=`input-${E} ${n.CONTROL_SIZES[E].h}`,D=(0,s.default)("input-wrapper",p||j?m:""),M=(0,s.default)("input",z,!B&&"focus:ring-primary focus-within:ring-primary focus-within:border-primary focus:border-primary",p||j?"":m,f&&"input-disabled",B&&"input-invalid",b&&"input-textarea"),F=(0,a.useRef)(null),H=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{if(!F.current&&!H.current)return;let e=F?.current?.offsetWidth,t=H?.current?.offsetWidth;!((0,o.default)(e)&&(0,o.default)(t))&&(e&&T(e),t&&R(t))})()},[p,j]);let Z={className:w?"":M,disabled:f,type:v,ref:y,...S},Y=(0,t.jsx)("textarea",{style:C,rows:N,...Z}),_=(0,t.jsx)(x,{style:{...(c=`${.0625*k+1}rem`,d=`${.0625*L+1}rem`,u={},"ltr"===O&&(p&&(u.paddingLeft=c),j&&(u.paddingRight=d)),"rtl"===O&&(p&&(u.paddingRight=c),j&&(u.paddingLeft=d)),u),...C},...Z}),W=(0,t.jsxs)("span",{className:D,children:[p?(0,t.jsxs)("div",{ref:F,className:"input-suffix-start",children:[" ",p," "]}):null,_,j?(0,t.jsx)("div",{ref:H,className:"input-suffix-end",children:j}):null]});return b?Y:p||j?W:_};e.s(["default",0,c],50736),e.s(["default",0,c],61112)},61222,65748,69749,e=>{"use strict";var t=e.i(43476),a=e.i(42018);e.i(19656);var s=e.i(44721),i=e.i(43794),r=e.i(88598);let l=e=>{let{controlSize:l}=(0,s.useConfig)(),{children:n,className:o,labelWidth:c=100,layout:d=r.LAYOUT.VERTICAL,size:u=r.SIZES.MD}=e;return(0,t.jsx)(a.FormContextProvider,{value:{labelWidth:c,layout:d,size:u||l},children:(0,t.jsx)(a.FormContextConsumer,{children:e=>(0,t.jsx)("div",{className:(0,i.default)("form-container",e?.layout,o),children:n})})})};l.displayName="FormContainer",e.s(["default",0,l],65748),e.s(["default",0,e=>{let{children:a,containerClassName:s,labelWidth:i,layout:r,size:n,ref:o,...c}=e;return(0,t.jsx)("form",{ref:o,...c,children:(0,t.jsx)(l,{className:s,labelWidth:i,layout:r,size:n,children:a})})}],61222);var n=e.i(95069),o=e.i(46932),c=e.i(88653);e.s(["default",0,e=>{let{asterisk:i,children:l,className:d,errorMessage:u,extra:x,htmlFor:m,invalid:f,label:h,labelClass:p,labelWidth:g,layout:j,ref:b,style:v,size:y}=e,N=(0,a.useForm)(),{controlSize:C}=(0,s.useConfig)(),w=y||N?.size||C,S=g||N?.labelWidth,k=j||N?.layout||"vertical",T=(0,n.default)("form-item",k,d,f?"invalid":""),L=(0,n.default)("form-label",h&&(()=>{switch(k){case r.LAYOUT.HORIZONTAL:return h?`${r.CONTROL_SIZES[w].h} ${h&&"ltr:pr-2 rtl:pl-2"}`:"ltr:pr-2 rtl:pl-2";case r.LAYOUT.VERTICAL:return"mb-2";case r.LAYOUT.INLINE:return`${r.CONTROL_SIZES[w].h} ${h&&"ltr:pr-2 rtl:pl-2"}`;default:return""}})(),p),R={opacity:0,marginTop:-10};return(0,t.jsx)(a.FormItemContextProvider,{value:{invalid:f},children:(0,t.jsxs)("div",{ref:b,className:T,children:[(0,t.jsxs)("label",{htmlFor:m,className:L,style:k===r.LAYOUT.HORIZONTAL?{...v,minWidth:S}:{...v},children:[i&&(0,t.jsx)("span",{className:"text-red-500 ltr:mr-1 rtl:ml-1",children:"*"}),h,x&&(0,t.jsx)("span",{children:x}),h&&"vertical"!==k&&":"]}),(0,t.jsxs)("div",{className:k===r.LAYOUT.HORIZONTAL?"w-full flex flex-col justify-center relative":"",children:[l,(0,t.jsx)(c.AnimatePresence,{mode:"wait",children:f&&(0,t.jsx)(o.motion.div,{className:"form-explain",initial:R,animate:{opacity:1,marginTop:3,bottom:-21},exit:R,transition:{duration:.15,type:"tween"},children:u})})]})]})})}],69749)},57766,e=>{"use strict";var t=e.i(50736);e.s(["Input",()=>t.default])},88918,61091,50949,30634,e=>{"use strict";var t=e.i(5702);e.s(["Button",()=>t.default],88918);var a=e.i(61112);e.s(["Input",()=>a.default],61091);var s=e.i(14926);e.s(["Notification",()=>s.default],50949);var i=e.i(73135);e.s(["toast",()=>i.default],30634)},75230,e=>{"use strict";var t=e.i(16302);e.s(["Select",()=>t.default])},51667,e=>{"use strict";var t=e.i(25908);e.s(["Pagination",()=>t.default])},54924,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(16787);var s=e.i(83281),i=e.i(88918),r=e.i(61091),l=e.i(91526),l=l,n=e.i(25116),o=e.i(75230),c=e.i(50949),d=e.i(30634),u=e.i(51667),x=e.i(72637),m=e.i(95187);let f=(0,m.createServerReference)("008dbfec21f2d08f26cb2c96df2e287bda58bf6ed9",m.callServer,void 0,m.findSourceMapURL,"getUsers"),h=(0,m.createServerReference)("4077355f8c5dbde9e75c0358c3b5a0baae05489d25",m.callServer,void 0,m.findSourceMapURL,"createUser"),p=(0,m.createServerReference)("40e266a3807bea5fb5f9e9896673cbff037979b38d",m.callServer,void 0,m.findSourceMapURL,"deleteUser"),g={admin:"bg-error-subtle text-error",editor:"bg-info-subtle text-info",donor:"bg-success-subtle text-success"};e.s(["default",0,()=>{let[e,m]=(0,a.useState)([]),[j,b]=(0,a.useState)(!0),[v,y]=(0,a.useState)(""),[N,C]=(0,a.useState)(!1),[w,S]=(0,a.useState)({name:"",email:"",password:"",phone:"",role:"donor"}),[k,T]=(0,a.useState)(1),L=async()=>{try{let e=await f();m(e)}catch(e){console.error("Error loading users:",e)}finally{b(!1)}};(0,a.useEffect)(()=>{L()},[]);let R=e.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.email.toLowerCase().includes(v.toLowerCase())),I=(0,a.useMemo)(()=>{let e=(k-1)*10;return R.slice(e,e+10)},[R,k,10]);(0,a.useEffect)(()=>{T(1)},[v]);let O=async()=>{if(!w.name||!w.email||!w.password)return void d.toast.push((0,t.jsx)(c.Notification,{type:"warning",title:"Peringatan",children:"Nama, email, dan password wajib diisi."}));try{await h(w),d.toast.push((0,t.jsx)(c.Notification,{type:"success",title:"Berhasil",children:"User berhasil ditambahkan."})),C(!1),S({name:"",email:"",password:"",phone:"",role:"donor"}),L()}catch(e){d.toast.push((0,t.jsx)(c.Notification,{type:"danger",title:"Error",children:"Gagal menambahkan user."}))}},U=async e=>{if("admin-001"===e.id)return void d.toast.push((0,t.jsx)(c.Notification,{type:"warning",title:"Peringatan",children:"Admin utama tidak bisa dihapus."}));if(confirm(`Hapus user "${e.name}"?`))try{await p(e.id),d.toast.push((0,t.jsx)(c.Notification,{type:"success",title:"Berhasil",children:"User berhasil dihapus."})),L()}catch(e){d.toast.push((0,t.jsx)(c.Notification,{type:"danger",title:"Error",children:"Gagal menghapus user."}))}},P=[{value:"admin",label:"Admin"},{value:"editor",label:"Editor"},{value:"donor",label:"Donor"}];return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,t.jsx)(x.PiMagnifyingGlassDuotone,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,t.jsx)(r.Input,{placeholder:"Cari user...",className:"pl-9",value:v,onChange:e=>y(e.target.value)})]}),(0,t.jsx)(i.Button,{variant:"solid",icon:(0,t.jsx)(x.PiPlusCircleDuotone,{}),onClick:()=>C(!0),children:"Tambah User"})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:j?(0,t.jsx)("div",{className:"p-8 text-center text-gray-400",children:"Memuat data..."}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-500",children:"User"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Telepon"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Role"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-4 px-4 text-sm font-semibold text-gray-500",children:"Bergabung"}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-sm font-semibold text-gray-500",children:"Aksi"})]})}),(0,t.jsx)("tbody",{children:I.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.default,{size:36,icon:(0,t.jsx)(x.PiUserDuotone,{})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm text-gray-500",children:e.phone||"-"}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium capitalize ${g[e.role]}`,children:e.role})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${e.is_active?"bg-success-subtle text-success":"bg-gray-100 text-gray-500"}`,children:e.is_active?"Aktif":"Nonaktif"})}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm text-gray-500",children:e.created_at}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(i.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiPencilDuotone,{className:"text-lg"})}),(0,t.jsx)(i.Button,{size:"xs",variant:"plain",icon:(0,t.jsx)(x.PiTrashDuotone,{className:"text-lg text-error"}),onClick:()=>U(e)})]})})]},e.id))})]})}),!j&&R.length>10&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Menampilkan ",(k-1)*10+1,"-",Math.min(10*k,R.length)," dari ",R.length]}),(0,t.jsx)(u.Pagination,{total:R.length,pageSize:10,currentPage:k,onChange:e=>T(e)})]})]}),(0,t.jsxs)(n.Dialog,{isOpen:N,onClose:()=>C(!1),onRequestClose:()=>C(!1),children:[(0,t.jsx)("h5",{className:"mb-4 font-bold",children:"Tambah User Baru"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nama *"}),(0,t.jsx)(r.Input,{placeholder:"Nama lengkap",value:w.name,onChange:e=>S({...w,name:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),(0,t.jsx)(r.Input,{type:"email",placeholder:"email@example.com",value:w.email,onChange:e=>S({...w,email:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password *"}),(0,t.jsx)(r.Input,{type:"password",placeholder:"Password",value:w.password,onChange:e=>S({...w,password:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Telepon"}),(0,t.jsx)(r.Input,{placeholder:"08xxxxxxxxxx",value:w.phone,onChange:e=>S({...w,phone:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Role"}),(0,t.jsx)(o.Select,{options:P,defaultValue:P[2],onChange:e=>S({...w,role:e?.value||"donor"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,t.jsx)(i.Button,{variant:"plain",onClick:()=>C(!1),children:"Batal"}),(0,t.jsx)(i.Button,{variant:"solid",onClick:O,children:"Simpan"})]})]})]})}],54924)}]);