(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8599,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(95069),r=e.i(96678),i=e.i(50719),l=e.i(46932),n=e.i(50815),c=e.i(10837);let o="warning",d={success:{backgroundColor:"bg-success-subtle",titleColor:"text-success",textColor:"text-success",iconColor:"text-success",icon:(0,t.jsx)(i.HiCheckCircle,{})},info:{backgroundColor:"bg-info-subtle",titleColor:"text-info",textColor:"text-info",iconColor:"text-info",icon:(0,t.jsx)(i.HiInformationCircle,{})},warning:{backgroundColor:"bg-warning-subtle",titleColor:"text-warning",textColor:"text-warning",iconColor:"text-warning",icon:(0,t.jsx)(i.HiExclamation,{})},danger:{backgroundColor:"bg-error-subtle",titleColor:"text-error",textColor:"text-error",iconColor:"text-error",icon:(0,t.jsx)(i.HiXCircle,{})}},u=["success","danger","info","warning"];e.s(["default",0,e=>{let{children:i,className:x,closable:m=!1,customClose:f,customIcon:h,duration:p=3e3,title:g=null,onClose:j,ref:v,showIcon:y=!1,triggerByToast:N=!1,...b}=e,C=(()=>{let{type:t=o}=e;return u.includes(t)?t:o})(),w=d[C],[S,T]=(0,a.useState)("show"),{clear:L}=(0,r.default)(j,p,p>0),R=(0,s.default)("alert",w.backgroundColor,w.textColor,g?"":"font-semibold",m?"justify-between":"",m&&!g?"items-center":"",!N&&"rounded-xl",x);return"hide"===S?null:(0,t.jsxs)(l.motion.div,{ref:v,className:R,initial:{opacity:1},animate:"hiding"===S?"exit":"animate",transition:{duration:.25,type:"tween"},variants:{animate:{opacity:1},exit:{opacity:0}},...b,children:[(0,t.jsxs)("div",{className:(0,s.default)("flex gap-2",!g&&i?"items-center":"",g&&i?"mt-0.5":""),children:[y&&(0,t.jsx)(c.default,{iconColor:w.iconColor,custom:h,type:C}),(0,t.jsxs)("div",{children:[g?(0,t.jsx)("div",{className:(0,s.default)("font-semibold text-lg mb-1",w.titleColor),children:g}):null,i]})]}),m?(0,t.jsx)("div",{className:"cursor-pointer",role:"presentation",onClick:e=>{T("hiding"),j?.(e),L(),!N&&setTimeout(()=>{T("hide")},400)},children:f||(0,t.jsx)(n.default,{resetDefaultClass:!0,className:"text-lg outline-hidden"})}):null]})}],8599)},61112,50736,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(43794);e.i(19656);var r=e.i(44721),i=e.i(42018),l=e.i(88374),n=e.i(88598),c=e.i(29873);let o=e=>{let o,d,u,{asElement:x="input",className:m,disabled:f,invalid:h,prefix:p,size:g,suffix:j,textArea:v,type:y="text",ref:N,rows:b,style:C,unstyle:w=!1,...S}=e,[T,L]=(0,a.useState)(0),[R,O]=(0,a.useState)(0),{controlSize:k,direction:E}=(0,r.useConfig)(),I=(0,i.useForm)()?.size,A=(0,i.useFormItem)()?.invalid,P=(0,l.useInputGroup)()?.size,$=g||P||I||k,_=h||A;if("value"in e){var U;S.value=null==(U=e.value)?"":U,delete S.defaultValue}let D=`input-${$} ${n.CONTROL_SIZES[$].h}`,M=(0,s.default)("input-wrapper",p||j?m:""),z=(0,s.default)("input",D,!_&&"focus:ring-primary focus-within:ring-primary focus-within:border-primary focus:border-primary",p||j?"":m,f&&"input-disabled",_&&"input-invalid",v&&"input-textarea"),B=(0,a.useRef)(null),F=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{if(!B.current&&!F.current)return;let e=B?.current?.offsetWidth,t=F?.current?.offsetWidth;!((0,c.default)(e)&&(0,c.default)(t))&&(e&&L(e),t&&O(t))})()},[p,j]);let H={className:w?"":z,disabled:f,type:y,ref:N,...S},Z=(0,t.jsx)("textarea",{style:C,rows:b,...H}),Y=(0,t.jsx)(x,{style:{...(o=`${.0625*T+1}rem`,d=`${.0625*R+1}rem`,u={},"ltr"===E&&(p&&(u.paddingLeft=o),j&&(u.paddingRight=d)),"rtl"===E&&(p&&(u.paddingRight=o),j&&(u.paddingLeft=d)),u),...C},...H}),W=(0,t.jsxs)("span",{className:M,children:[p?(0,t.jsxs)("div",{ref:B,className:"input-suffix-start",children:[" ",p," "]}):null,Y,j?(0,t.jsx)("div",{ref:F,className:"input-suffix-end",children:j}):null]});return v?Z:p||j?W:Y};e.s(["default",0,o],50736),e.s(["default",0,o],61112)},61222,65748,69749,e=>{"use strict";var t=e.i(43476),a=e.i(42018);e.i(19656);var s=e.i(44721),r=e.i(43794),i=e.i(88598);let l=e=>{let{controlSize:l}=(0,s.useConfig)(),{children:n,className:c,labelWidth:o=100,layout:d=i.LAYOUT.VERTICAL,size:u=i.SIZES.MD}=e;return(0,t.jsx)(a.FormContextProvider,{value:{labelWidth:o,layout:d,size:u||l},children:(0,t.jsx)(a.FormContextConsumer,{children:e=>(0,t.jsx)("div",{className:(0,r.default)("form-container",e?.layout,c),children:n})})})};l.displayName="FormContainer",e.s(["default",0,l],65748),e.s(["default",0,e=>{let{children:a,containerClassName:s,labelWidth:r,layout:i,size:n,ref:c,...o}=e;return(0,t.jsx)("form",{ref:c,...o,children:(0,t.jsx)(l,{className:s,labelWidth:r,layout:i,size:n,children:a})})}],61222);var n=e.i(95069),c=e.i(46932),o=e.i(88653);e.s(["default",0,e=>{let{asterisk:r,children:l,className:d,errorMessage:u,extra:x,htmlFor:m,invalid:f,label:h,labelClass:p,labelWidth:g,layout:j,ref:v,style:y,size:N}=e,b=(0,a.useForm)(),{controlSize:C}=(0,s.useConfig)(),w=N||b?.size||C,S=g||b?.labelWidth,T=j||b?.layout||"vertical",L=(0,n.default)("form-item",T,d,f?"invalid":""),R=(0,n.default)("form-label",h&&(()=>{switch(T){case i.LAYOUT.HORIZONTAL:return h?`${i.CONTROL_SIZES[w].h} ${h&&"ltr:pr-2 rtl:pl-2"}`:"ltr:pr-2 rtl:pl-2";case i.LAYOUT.VERTICAL:return"mb-2";case i.LAYOUT.INLINE:return`${i.CONTROL_SIZES[w].h} ${h&&"ltr:pr-2 rtl:pl-2"}`;default:return""}})(),p),O={opacity:0,marginTop:-10};return(0,t.jsx)(a.FormItemContextProvider,{value:{invalid:f},children:(0,t.jsxs)("div",{ref:v,className:L,children:[(0,t.jsxs)("label",{htmlFor:m,className:R,style:T===i.LAYOUT.HORIZONTAL?{...y,minWidth:S}:{...y},children:[r&&(0,t.jsx)("span",{className:"text-red-500 ltr:mr-1 rtl:ml-1",children:"*"}),h,x&&(0,t.jsx)("span",{children:x}),h&&"vertical"!==T&&":"]}),(0,t.jsxs)("div",{className:T===i.LAYOUT.HORIZONTAL?"w-full flex flex-col justify-center relative":"",children:[l,(0,t.jsx)(o.AnimatePresence,{mode:"wait",children:f&&(0,t.jsx)(c.motion.div,{className:"form-explain",initial:O,animate:{opacity:1,marginTop:3,bottom:-21},exit:O,transition:{duration:.15,type:"tween"},children:u})})]})]})})}],69749)},57766,e=>{"use strict";var t=e.i(50736);e.s(["Input",()=>t.default])},88918,61091,50949,30634,e=>{"use strict";var t=e.i(5702);e.s(["Button",()=>t.default],88918);var a=e.i(61112);e.s(["Input",()=>a.default],61091);var s=e.i(14926);e.s(["Notification",()=>s.default],50949);var r=e.i(73135);e.s(["toast",()=>r.default],30634)},51667,e=>{"use strict";var t=e.i(25908);e.s(["Pagination",()=>t.default])},25116,e=>{"use strict";var t=e.i(8297);e.s(["Dialog",()=>t.default])},5552,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(16787);var s=e.i(83281),r=e.i(88918),i=e.i(61091),l=e.i(25116),n=e.i(50949),c=e.i(30634),o=e.i(51667),d=e.i(72637),u=e.i(95187);let x=(0,u.createServerReference)("00300218295c8fd4c2e060545a36904a32c1f6acdc",u.callServer,void 0,u.findSourceMapURL,"getContacts"),m=(0,u.createServerReference)("404521ae475c5a5151873d6e42e3021a4cba551d16",u.callServer,void 0,u.findSourceMapURL,"markContactAsRead"),f=(0,u.createServerReference)("4075748452a436d5034d98d3d1c9f563c546fab004",u.callServer,void 0,u.findSourceMapURL,"deleteContact");e.s(["default",0,()=>{let[e,u]=(0,a.useState)([]),[h,p]=(0,a.useState)(!0),[g,j]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[N,b]=(0,a.useState)(null),[C,w]=(0,a.useState)(1),S=async()=>{try{let e=await x();u(e)}catch(e){console.error("Error loading contacts:",e)}finally{p(!1)}};(0,a.useEffect)(()=>{S()},[]);let T=e.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.subject.toLowerCase().includes(g.toLowerCase())),L=(0,a.useMemo)(()=>{let e=(C-1)*10;return T.slice(e,e+10)},[T,C,10]);(0,a.useEffect)(()=>{w(1)},[g]);let R=e.filter(e=>!e.is_read).length,O=async e=>{if(b(e),y(!0),!e.is_read)try{await m(e.id),S()}catch(e){console.error("Error marking contact as read:",e)}},k=async e=>{try{await f(e.id),c.toast.push((0,t.jsx)(n.Notification,{type:"success",title:"Berhasil",children:"Pesan berhasil dihapus."})),y(!1),S()}catch(e){c.toast.push((0,t.jsx)(n.Notification,{type:"danger",title:"Error",children:"Gagal menghapus pesan."}))}};return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)(s.Card,{className:"p-4 border-l-4 border-l-primary",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total Pesan"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:e.length})]}),(0,t.jsxs)(s.Card,{className:"p-4 border-l-4 border-l-warning",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Belum Dibaca"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-warning",children:R})]})]}),(0,t.jsxs)("div",{className:"relative w-full sm:w-80",children:[(0,t.jsx)(d.PiMagnifyingGlassDuotone,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,t.jsx)(i.Input,{placeholder:"Cari pesan...",className:"pl-9",value:g,onChange:e=>j(e.target.value)})]}),(0,t.jsx)("div",{className:"flex flex-col gap-3",children:h?(0,t.jsx)(s.Card,{className:"p-8 text-center text-gray-400",children:"Memuat data..."}):0===T.length?(0,t.jsx)(s.Card,{className:"p-8 text-center text-gray-400",children:"Tidak ada pesan."}):L.map(e=>(0,t.jsx)(s.Card,{className:`p-5 cursor-pointer hover:shadow-md transition-shadow ${!e.is_read?"border-l-4 border-l-primary bg-primary/5":""}`,onClick:()=>O(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 min-w-0",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-lg flex-shrink-0 ${!e.is_read?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500"}`,children:e.is_read?(0,t.jsx)(d.PiEnvelopeOpenDuotone,{}):(0,t.jsx)(d.PiEnvelopeSimpleDuotone,{})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:`font-semibold ${!e.is_read?"text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:e.name}),!e.is_read&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:e.subject}),(0,t.jsx)("p",{className:"text-xs text-gray-500 truncate max-w-md",children:e.message})]})]}),(0,t.jsx)("span",{className:"text-xs text-gray-400 flex-shrink-0 whitespace-nowrap",children:e.created_at})]})},e.id))}),!h&&T.length>10&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Menampilkan ",(C-1)*10+1,"-",Math.min(10*C,T.length)," dari ",T.length]}),(0,t.jsx)(o.Pagination,{total:T.length,pageSize:10,currentPage:C,onChange:e=>w(e)})]}),(0,t.jsx)(l.Dialog,{isOpen:v,onClose:()=>y(!1),onRequestClose:()=>y(!1),children:N&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"mb-4 font-bold",children:N.subject}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 text-sm mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Dari:"}),(0,t.jsx)("span",{className:"font-medium",children:N.name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Email:"}),(0,t.jsx)("span",{children:N.email})]}),N.phone&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Telepon:"}),(0,t.jsx)("span",{children:N.phone})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Tanggal:"}),(0,t.jsx)("span",{children:N.created_at})]})]}),(0,t.jsx)("hr",{className:"border-gray-200 dark:border-gray-700 mb-4"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:N.message}),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,t.jsx)(r.Button,{variant:"plain",color:"red",size:"sm",onClick:()=>k(N),children:"Hapus"}),(0,t.jsx)("a",{href:`mailto:${N.email}?subject=Re: ${N.subject}`,children:(0,t.jsx)(r.Button,{variant:"solid",size:"sm",children:"Balas via Email"})})]})]})})]})}],5552)}]);