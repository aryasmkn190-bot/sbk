(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8599,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(95069),r=e.i(96678),l=e.i(50719),s=e.i(46932),n=e.i(50815),o=e.i(10837);let c="warning",d={success:{backgroundColor:"bg-success-subtle",titleColor:"text-success",textColor:"text-success",iconColor:"text-success",icon:(0,t.jsx)(l.HiCheckCircle,{})},info:{backgroundColor:"bg-info-subtle",titleColor:"text-info",textColor:"text-info",iconColor:"text-info",icon:(0,t.jsx)(l.HiInformationCircle,{})},warning:{backgroundColor:"bg-warning-subtle",titleColor:"text-warning",textColor:"text-warning",iconColor:"text-warning",icon:(0,t.jsx)(l.HiExclamation,{})},danger:{backgroundColor:"bg-error-subtle",titleColor:"text-error",textColor:"text-error",iconColor:"text-error",icon:(0,t.jsx)(l.HiXCircle,{})}},u=["success","danger","info","warning"];e.s(["default",0,e=>{let{children:l,className:x,closable:m=!1,customClose:f,customIcon:g,duration:h=3e3,title:p=null,onClose:b,ref:v,showIcon:j=!1,triggerByToast:y=!1,...N}=e,C=(()=>{let{type:t=c}=e;return u.includes(t)?t:c})(),k=d[C],[w,S]=(0,a.useState)("show"),{clear:R}=(0,r.default)(b,h,h>0),I=(0,i.default)("alert",k.backgroundColor,k.textColor,p?"":"font-semibold",m?"justify-between":"",m&&!p?"items-center":"",!y&&"rounded-xl",x);return"hide"===w?null:(0,t.jsxs)(s.motion.div,{ref:v,className:I,initial:{opacity:1},animate:"hiding"===w?"exit":"animate",transition:{duration:.25,type:"tween"},variants:{animate:{opacity:1},exit:{opacity:0}},...N,children:[(0,t.jsxs)("div",{className:(0,i.default)("flex gap-2",!p&&l?"items-center":"",p&&l?"mt-0.5":""),children:[j&&(0,t.jsx)(o.default,{iconColor:k.iconColor,custom:g,type:C}),(0,t.jsxs)("div",{children:[p?(0,t.jsx)("div",{className:(0,i.default)("font-semibold text-lg mb-1",k.titleColor),children:p}):null,l]})]}),m?(0,t.jsx)("div",{className:"cursor-pointer",role:"presentation",onClick:e=>{S("hiding"),b?.(e),R(),!y&&setTimeout(()=>{S("hide")},400)},children:f||(0,t.jsx)(n.default,{resetDefaultClass:!0,className:"text-lg outline-hidden"})}):null]})}],8599)},61112,50736,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(43794);e.i(19656);var r=e.i(44721),l=e.i(42018),s=e.i(88374),n=e.i(88598),o=e.i(29873);let c=e=>{let c,d,u,{asElement:x="input",className:m,disabled:f,invalid:g,prefix:h,size:p,suffix:b,textArea:v,type:j="text",ref:y,rows:N,style:C,unstyle:k=!1,...w}=e,[S,R]=(0,a.useState)(0),[I,L]=(0,a.useState)(0),{controlSize:T,direction:O}=(0,r.useConfig)(),P=(0,l.useForm)()?.size,A=(0,l.useFormItem)()?.invalid,B=(0,s.useInputGroup)()?.size,U=p||B||P||T,E=g||A;if("value"in e){var F;w.value=null==(F=e.value)?"":F,delete w.defaultValue}let M=`input-${U} ${n.CONTROL_SIZES[U].h}`,D=(0,i.default)("input-wrapper",h||b?m:""),_=(0,i.default)("input",M,!E&&"focus:ring-primary focus-within:ring-primary focus-within:border-primary focus:border-primary",h||b?"":m,f&&"input-disabled",E&&"input-invalid",v&&"input-textarea"),G=(0,a.useRef)(null),$=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{if(!G.current&&!$.current)return;let e=G?.current?.offsetWidth,t=$?.current?.offsetWidth;!((0,o.default)(e)&&(0,o.default)(t))&&(e&&R(e),t&&L(t))})()},[h,b]);let H={className:k?"":_,disabled:f,type:j,ref:y,...w},Z=(0,t.jsx)("textarea",{style:C,rows:N,...H}),W=(0,t.jsx)(x,{style:{...(c=`${.0625*S+1}rem`,d=`${.0625*I+1}rem`,u={},"ltr"===O&&(h&&(u.paddingLeft=c),b&&(u.paddingRight=d)),"rtl"===O&&(h&&(u.paddingRight=c),b&&(u.paddingLeft=d)),u),...C},...H}),Y=(0,t.jsxs)("span",{className:D,children:[h?(0,t.jsxs)("div",{ref:G,className:"input-suffix-start",children:[" ",h," "]}):null,W,b?(0,t.jsx)("div",{ref:$,className:"input-suffix-end",children:b}):null]});return v?Z:h||b?Y:W};e.s(["default",0,c],50736),e.s(["default",0,c],61112)},61222,65748,69749,e=>{"use strict";var t=e.i(43476),a=e.i(42018);e.i(19656);var i=e.i(44721),r=e.i(43794),l=e.i(88598);let s=e=>{let{controlSize:s}=(0,i.useConfig)(),{children:n,className:o,labelWidth:c=100,layout:d=l.LAYOUT.VERTICAL,size:u=l.SIZES.MD}=e;return(0,t.jsx)(a.FormContextProvider,{value:{labelWidth:c,layout:d,size:u||s},children:(0,t.jsx)(a.FormContextConsumer,{children:e=>(0,t.jsx)("div",{className:(0,r.default)("form-container",e?.layout,o),children:n})})})};s.displayName="FormContainer",e.s(["default",0,s],65748),e.s(["default",0,e=>{let{children:a,containerClassName:i,labelWidth:r,layout:l,size:n,ref:o,...c}=e;return(0,t.jsx)("form",{ref:o,...c,children:(0,t.jsx)(s,{className:i,labelWidth:r,layout:l,size:n,children:a})})}],61222);var n=e.i(95069),o=e.i(46932),c=e.i(88653);e.s(["default",0,e=>{let{asterisk:r,children:s,className:d,errorMessage:u,extra:x,htmlFor:m,invalid:f,label:g,labelClass:h,labelWidth:p,layout:b,ref:v,style:j,size:y}=e,N=(0,a.useForm)(),{controlSize:C}=(0,i.useConfig)(),k=y||N?.size||C,w=p||N?.labelWidth,S=b||N?.layout||"vertical",R=(0,n.default)("form-item",S,d,f?"invalid":""),I=(0,n.default)("form-label",g&&(()=>{switch(S){case l.LAYOUT.HORIZONTAL:return g?`${l.CONTROL_SIZES[k].h} ${g&&"ltr:pr-2 rtl:pl-2"}`:"ltr:pr-2 rtl:pl-2";case l.LAYOUT.VERTICAL:return"mb-2";case l.LAYOUT.INLINE:return`${l.CONTROL_SIZES[k].h} ${g&&"ltr:pr-2 rtl:pl-2"}`;default:return""}})(),h),L={opacity:0,marginTop:-10};return(0,t.jsx)(a.FormItemContextProvider,{value:{invalid:f},children:(0,t.jsxs)("div",{ref:v,className:R,children:[(0,t.jsxs)("label",{htmlFor:m,className:I,style:S===l.LAYOUT.HORIZONTAL?{...j,minWidth:w}:{...j},children:[r&&(0,t.jsx)("span",{className:"text-red-500 ltr:mr-1 rtl:ml-1",children:"*"}),g,x&&(0,t.jsx)("span",{children:x}),g&&"vertical"!==S&&":"]}),(0,t.jsxs)("div",{className:S===l.LAYOUT.HORIZONTAL?"w-full flex flex-col justify-center relative":"",children:[s,(0,t.jsx)(c.AnimatePresence,{mode:"wait",children:f&&(0,t.jsx)(o.motion.div,{className:"form-explain",initial:L,animate:{opacity:1,marginTop:3,bottom:-21},exit:L,transition:{duration:.15,type:"tween"},children:u})})]})]})})}],69749)},57766,e=>{"use strict";var t=e.i(50736);e.s(["Input",()=>t.default])},88918,61091,50949,30634,e=>{"use strict";var t=e.i(5702);e.s(["Button",()=>t.default],88918);var a=e.i(61112);e.s(["Input",()=>a.default],61091);var i=e.i(14926);e.s(["Notification",()=>i.default],50949);var r=e.i(73135);e.s(["toast",()=>r.default],30634)},75230,e=>{"use strict";var t=e.i(16302);e.s(["Select",()=>t.default])},35073,e=>{"use strict";var t=e.i(95187);let a=(0,t.createServerReference)("40df2b0c12396596b4e6cc85e14bd942bf6ea2e544",t.callServer,void 0,t.findSourceMapURL,"uploadImage");e.s(["uploadImage",()=>a])},3870,e=>{"use strict";var t=e.i(95187);let a=(0,t.createServerReference)("005bd03ddbce436349c0ff8debfe51d321cf52c9e1",t.callServer,void 0,t.findSourceMapURL,"getNewsCategories");e.s(["getNewsCategories",()=>a])},38730,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(16787);var i=e.i(83281),r=e.i(88918),l=e.i(61091),s=e.i(75230),n=e.i(50949),o=e.i(30634),c=e.i(20777),d=e.i(72637),u=e.i(22016),x=e.i(59098),m=e.i(35073),f=e.i(18566),g=e.i(95187);let h=(0,g.createServerReference)("60bfcfae2a0bec125b016bffacc97c61cae0879fcf",g.callServer,void 0,g.findSourceMapURL,"createNews"),p=(0,g.createServerReference)("400dce6d2e7c46bf11b619874d570298c948ecdef9",g.callServer,void 0,g.findSourceMapURL,"getNewsById"),b=(0,g.createServerReference)("6030269e6d6c2999056a1b6897da59aa0627edefa2",g.callServer,void 0,g.findSourceMapURL,"updateNews");var v=e.i(3870);let j=[{value:"draft",label:"Draft"},{value:"published",label:"Publikasi"}];e.s(["default",0,()=>{let e=(0,f.useRouter)(),g=(0,f.useParams)(),y=g?.id,N="create"!==y,[C,k]=(0,a.useState)([]),[w,S]=(0,a.useState)(!1),[R,I]=(0,a.useState)({title:"",excerpt:"",content:"",image:"",category_id:"",status:"draft"});(0,a.useEffect)(()=>{let e=async()=>{if(N&&y){let e=await p(y);e&&I({title:e.title,excerpt:e.excerpt,content:e.content,image:e.image,category_id:e.category_id||"",status:e.status})}};(async()=>{k((await (0,v.getNewsCategories)()).map(e=>({value:e.id,label:e.name})))})(),e()},[y,N]);let L=(e,t)=>{I(a=>({...a,[e]:t}))},T=async e=>{if(0!==e.length)try{let a=new FormData;a.append("file",e[0]);let i=await (0,m.uploadImage)(a);L("image",i.url),o.toast.push((0,t.jsx)(n.Notification,{type:"success",title:"Berhasil",children:"Gambar berhasil diunggah."}))}catch(e){o.toast.push((0,t.jsx)(n.Notification,{type:"danger",title:"Error",children:"Gagal mengunggah gambar."}))}},O=async a=>{if(!R.title||!R.content)return void o.toast.push((0,t.jsx)(n.Notification,{type:"warning",title:"Peringatan",children:"Judul dan konten wajib diisi."}));S(!0);try{let i={title:R.title,excerpt:R.excerpt,content:R.content,image:R.image||void 0,category_id:R.category_id||void 0,status:a||R.status};N?(await b(y,i),o.toast.push((0,t.jsx)(n.Notification,{type:"success",title:"Berhasil",children:"Berita berhasil diperbarui!"}))):(await h(i),o.toast.push((0,t.jsx)(n.Notification,{type:"success",title:"Berhasil",children:"Berita berhasil dibuat!"}))),e.push("/dashboard/berita")}catch(e){console.error("Error saving news:",e),o.toast.push((0,t.jsx)(n.Notification,{type:"danger",title:"Error",children:e?.message||"Gagal menyimpan berita."}))}finally{S(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)(u.default,{href:"/dashboard/berita",className:"inline-flex items-center gap-1 text-sm text-gray-500 hover:text-primary",children:[(0,t.jsx)(d.PiArrowLeftDuotone,{})," Kembali ke Daftar Berita"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"xl:col-span-2 flex flex-col gap-6",children:[(0,t.jsx)(i.Card,{children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h5",{className:"font-bold mb-4",children:"Informasi Berita"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Judul Berita *"}),(0,t.jsx)(l.Input,{placeholder:"Masukkan judul berita...",value:R.title,onChange:e=>L("title",e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ringkasan"}),(0,t.jsx)(l.Input,{textArea:!0,placeholder:"Tulis ringkasan berita...",value:R.excerpt,onChange:e=>L("excerpt",e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Konten *"}),(0,t.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,t.jsx)(x.default,{content:R.content,onChange:({html:e})=>L("content",e)})})]})]})]})}),(0,t.jsx)(i.Card,{children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h5",{className:"font-bold mb-4",children:"Gambar Berita"}),(0,t.jsx)(c.Upload,{draggable:!0,onChange:e=>T(e),showList:!1,accept:"image/*",children:(0,t.jsxs)("div",{className:"border border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:border-primary transition-colors cursor-pointer w-full bg-gray-50 dark:bg-gray-800",children:[R.image?(0,t.jsx)("img",{src:R.image,alt:"Preview",className:"mx-auto max-h-48 object-contain rounded-lg mb-3 shadow-md"}):(0,t.jsx)(d.PiUploadDuotone,{className:"text-4xl mx-auto mb-3 text-gray-400"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:R.image?"Ubah Gambar":"Pilih atau letakkan gambar di sini"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Mendukung format PNG, JPG, WebP (Maks. 2MB)"})]})})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(i.Card,{children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h5",{className:"font-bold mb-4",children:"Pengaturan"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kategori"}),(0,t.jsx)(s.Select,{options:C,placeholder:"Pilih kategori...",onChange:e=>L("category_id",e?.value||"")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,t.jsx)(s.Select,{options:j,defaultValue:j[0],onChange:e=>L("status",e?.value||"draft")})]})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(r.Button,{variant:"solid",block:!0,icon:(0,t.jsx)(d.PiFloppyDiskDuotone,{}),loading:w,onClick:()=>O(),children:N?"Simpan Perubahan":"Simpan"}),(0,t.jsx)(r.Button,{variant:"default",block:!0,onClick:()=>O("published"),loading:w,children:"Simpan & Publikasikan"})]})]})]})]})}],38730)}]);